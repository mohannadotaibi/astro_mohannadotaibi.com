---
import { Image } from 'astro:assets';

import getIcon from '../../utilities/getIcon';
export interface Props {
	title: string;
	url: string;
  faviconUrl?: string;
}

const { title, url, faviconUrl } = Astro.props;
const myLink = faviconUrl ? faviconUrl : url;

let imagePath = await getIcon(myLink);
imagePath = imagePath?.replaceAll('\\','/').replaceAll('public', '');
---
<a href={url} class="me-2 mb-2 inline-block">
  <span class="
    bg-gray-100 
    text-gray-800 
    dark:bg-gray-700 
    dark:text-gray-300
    hover:bg-gray-200
    hover:text-gray-900
    hover:scale-110 transition-all
    text-xs font-normal
    lg:text-sm lg:font-medium 
    border border-gray-200 dark:border-gray-600
    inline-flex 
    items-center 
    px-2.5 py-0.5
    rounded
    group">
    <div class="inline-flex items-center">
      <Image 
        class="w-3.5 me-1 aspect-square filter grayscale group-hover:grayscale-0 group-hover:filter-none" 
        width={64} 
        height={64}
        format={'png'}
        src={imagePath} 
        alt={title} />
    </div>
    {title}
  </span>
</a>